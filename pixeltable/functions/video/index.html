
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Pixeltable, Inc.">
      
      
      
        <link rel="prev" href="../timestamp/">
      
      
        <link rel="next" href="../vision/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.23">
    
    
      
        <title>video - Pixeltable API</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pixeltable.functions.video" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Pixeltable API" class="md-header__button md-logo" aria-label="Pixeltable API" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pixeltable API
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              video
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pixeltable/pixeltable" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pixeltable/pixeltable
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Pixeltable API" class="md-nav__button md-logo" aria-label="Pixeltable API" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Pixeltable API
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pixeltable/pixeltable" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pixeltable/pixeltable
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-cheat-sheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Cheat Sheet
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.pixeltable.com/overview/configuration" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration Options
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pixeltable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pixeltable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pixeltable.io
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    pixeltable.iterators
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            pixeltable.iterators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../iterators/audio-splitter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AudioSplitter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../iterators/component-iterator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ComponentIterator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../iterators/document-splitter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DocumentSplitter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../iterators/frame-iterator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FrameIterator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../iterators/tile-iterator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TileIterator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../iterators/video-splitter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VideoSplitter
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../column-metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ColumnMetadata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data-frame/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DataFrame
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dir-contents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DirContents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index-metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IndexMetadata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Table
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../table-metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TableMetadata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../update-status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UpdateStatus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../version-metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VersionMetadata
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Built-in Functions and Operators
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Built-in Functions and Operators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../audio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    audio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../date/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    date
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../json/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    json
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../math/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    math
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../string/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    string
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../timestamp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    timestamp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    video
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    video
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pixeltable.functions.video" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;video
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" video">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.make_video" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;make_video
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.clip" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;clip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.concat_videos" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;concat_videos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.extract_audio" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;extract_audio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.extract_frame" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;extract_frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.get_duration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;get_duration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.get_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;get_metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.overlay_text" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;overlay_text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.segment_video" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;segment_video
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.with_audio" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;with_audio
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Use Cases
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Computer Vision
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model and Inference Functions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Model and Inference Functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../anthropic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    anthropic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bedrock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bedrock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deepseek/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    deepseek
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fireworks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fireworks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gemini/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gemini
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../groq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    groq
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../huggingface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    huggingface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../llama_cpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    llama_cpp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mistralai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mistralai
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ollama/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ollama
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    openai
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openrouter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    openrouter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../replicate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    replicate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../together/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    together
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../whisper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whisper
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../whisperx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whisperx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../yolox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    yolox
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pixeltable.functions.video" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;video
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" video">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.make_video" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;make_video
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.clip" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;clip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.concat_videos" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;concat_videos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.extract_audio" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;extract_audio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.extract_frame" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;extract_frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.get_duration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;get_duration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.get_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;get_metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.overlay_text" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;overlay_text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.segment_video" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;segment_video
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pixeltable.functions.video.with_audio" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-udf"></code>&nbsp;with_audio
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>video</h1>

<div class="doc doc-object doc-module">



<h2 id="pixeltable.functions.video" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">pixeltable.functions.video</span>


</h2>

    <div class="doc doc-contents first">

      <p>Pixeltable <a href="https://pixeltable.readme.io/docs/user-defined-functions-udfs">UDFs</a> for <code>VideoType</code>.</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="pixeltable.functions.video.make_video" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">make_video</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">make_video</span><span class="p">(</span><span class="n">fps</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">25</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


      <p>Aggregator that creates a video from a sequence of images, using the default video encoder and yuv420p pixel format.</p>
<p>Follows https://pyav.org/docs/develop/cookbook/numpy.html#generating-video</p>
<p>TODO: provide parameters for video_encoder and pix_fmt</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code>fps</code></b>
              (<code>int</code>, default:
                  <code>25</code>
)
          –
          <div class="doc-md-description">
            <p>Frames per second for the output video.</p>
          </div>
        </li>
    </ul>
      <p>Returns:</p>
<ul>
<li>The created video.</li>
</ul>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Create a video from frames extracted using <code>FrameIterator</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pixeltable</span> <span class="k">as</span> <span class="nn">pxt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pixeltable.functions.video</span> <span class="kn">import</span> <span class="n">make_video</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pixeltable.iterators</span> <span class="kn">import</span> <span class="n">FrameIterator</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create base table for videos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">videos_table</span> <span class="o">=</span> <span class="n">pxt</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="s1">&#39;videos&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;video&#39;</span><span class="p">:</span> <span class="n">pxt</span><span class="o">.</span><span class="n">Video</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create view to extract frames</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frames_view</span> <span class="o">=</span> <span class="n">pxt</span><span class="o">.</span><span class="n">create_view</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;video_frames&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">videos_table</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">iterator</span><span class="o">=</span><span class="n">FrameIterator</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">video</span><span class="o">=</span><span class="n">videos_table</span><span class="o">.</span><span class="n">video</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Reconstruct video from frames</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frames_view</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">videos_table</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">make_video</span><span class="p">(</span><span class="n">frames_view</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="n">frames_view</span><span class="o">.</span><span class="n">frame</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
    <p>Apply transformations to frames before creating a video:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create video from transformed frames</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frames_view</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">videos_table</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">make_video</span><span class="p">(</span><span class="n">frames_view</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="n">frames_view</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
    <p>Compare multiple processed versions side-by-side:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">frames_view</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">videos_table</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">make_video</span><span class="p">(</span><span class="n">frames_view</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="n">frames_view</span><span class="o">.</span><span class="n">frame</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">make_video</span><span class="p">(</span><span class="n">frames_view</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="n">frames_view</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>




  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="pixeltable.functions.video.clip" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-udf"></code>            <span class="doc doc-object-name doc-function-name">clip</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">clip</span><span class="p">(</span>
    <span class="n">video</span><span class="p">:</span> <span class="n">Video</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="n">Float</span><span class="p">,</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">mode</span><span class="p">:</span> <span class="n">String</span> <span class="o">=</span> <span class="s2">&quot;accurate&quot;</span><span class="p">,</span>
    <span class="n">video_encoder</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">String</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">video_encoder_args</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Json</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Video</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Extract a clip from a video, specified by <code>start_time</code> and either <code>end_time</code> or <code>duration</code> (in seconds).</p>
<p>If <code>start_time</code> is beyond the end of the video, returns None. Can only specify one of <code>end_time</code> and <code>duration</code>.
If both <code>end_time</code> and <code>duration</code> are None, the clip goes to the end of the video.</p>
<p><strong>Requirements:</strong></p>
<ul>
<li><code>ffmpeg</code> needs to be installed and in PATH</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code>video</code></b>
              (<code>Video</code>)
          –
          <div class="doc-md-description">
            <p>Input video file</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>start_time</code></b>
              (<code>Float</code>)
          –
          <div class="doc-md-description">
            <p>Start time in seconds</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>end_time</code></b>
              (<code>Optional[Float]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>End time in seconds</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>duration</code></b>
              (<code>Optional[Float]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Duration of the clip in seconds</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>mode</code></b>
              (<code>String</code>, default:
                  <code>&#39;accurate&#39;</code>
)
          –
          <div class="doc-md-description">
            <ul>
<li><code>'fast'</code>: avoids re-encoding but starts the clip at the nearest keyframes and as a result, the clip
    duration will be slightly longer than requested</li>
<li><code>'accurate'</code>: extracts a frame-accurate clip, but requires re-encoding</li>
</ul>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>video_encoder</code></b>
              (<code>Optional[String]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Video encoder to use. If not specified, uses the default encoder for the current platform.
Only available for <code>mode='accurate'</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>video_encoder_args</code></b>
              (<code>Optional[Json]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Additional arguments to pass to the video encoder. Only available for <code>mode='accurate'</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>Optional[Video]</code>
          –
          <div class="doc-md-description">
            <p>New video containing only the specified time range or None if start_time is beyond the end of the video.</p>
          </div>
        </li>
    </ul>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pixeltable.functions.video.concat_videos" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-udf"></code>            <span class="doc doc-object-name doc-function-name">concat_videos</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">concat_videos</span><span class="p">(</span><span class="n">videos</span><span class="p">:</span> <span class="n">Json</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Video</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Merge multiple videos into a single video.</p>
<p><strong>Requirements:</strong></p>
<ul>
<li><code>ffmpeg</code> needs to be installed and in PATH</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code>videos</code></b>
              (<code>Json</code>)
          –
          <div class="doc-md-description">
            <p>List of videos to merge.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>Video</code>
          –
          <div class="doc-md-description">
            <p>A new video containing the merged videos.</p>
          </div>
        </li>
    </ul>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pixeltable.functions.video.extract_audio" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-udf"></code>            <span class="doc doc-object-name doc-function-name">extract_audio</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">extract_audio</span><span class="p">(</span>
    <span class="n">video_path</span><span class="p">:</span> <span class="n">Video</span><span class="p">,</span>
    <span class="n">stream_idx</span><span class="p">:</span> <span class="n">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nb">format</span><span class="p">:</span> <span class="n">String</span> <span class="o">=</span> <span class="s2">&quot;wav&quot;</span><span class="p">,</span>
    <span class="n">codec</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">String</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Audio</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Extract an audio stream from a video.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code>stream_idx</code></b>
              (<code>Int</code>, default:
                  <code>0</code>
)
          –
          <div class="doc-md-description">
            <p>Index of the audio stream to extract.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>format</code></b>
              (<code>String</code>, default:
                  <code>&#39;wav&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The target audio format. (<code>'wav'</code>, <code>'mp3'</code>, <code>'flac'</code>).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>codec</code></b>
              (<code>Optional[String]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The codec to use for the audio stream. If not provided, a default codec will be used.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>Audio</code>
          –
          <div class="doc-md-description">
            <p>The extracted audio.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Add a computed column to a table <code>tbl</code> that extracts audio from an existing column <code>video_col</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">add_computed_column</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">extracted_audio</span><span class="o">=</span><span class="n">tbl</span><span class="o">.</span><span class="n">video_col</span><span class="o">.</span><span class="n">extract_audio</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;flac&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pixeltable.functions.video.extract_frame" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-udf"></code>            <span class="doc doc-object-name doc-function-name">extract_frame</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">extract_frame</span><span class="p">(</span><span class="n">video</span><span class="p">:</span> <span class="n">Video</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">:</span> <span class="n">Float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Image</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Extract a single frame from a video at a specific timestamp.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code>video</code></b>
              (<code>Video</code>)
          –
          <div class="doc-md-description">
            <p>The video from which to extract the frame.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>timestamp</code></b>
              (<code>Float</code>)
          –
          <div class="doc-md-description">
            <p>Extract frame at this timestamp (in seconds).</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>Optional[Image]</code>
          –
          <div class="doc-md-description">
            <p>The extracted frame as a PIL Image, or None if the timestamp is beyond the video duration.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Extract the first frame from each video in the <code>video</code> column of the table <code>tbl</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">extract_frame</span><span class="p">(</span><span class="mf">0.0</span><span class="p">))</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>
    <p>Extract a frame close to the end of each video in the <code>video</code> column of the table <code>tbl</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">extract_frame</span><span class="p">(</span><span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">()</span><span class="o">.</span><span class="n">streams</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">duration_seconds</span> <span class="o">-</span> <span class="mf">0.1</span><span class="p">))</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pixeltable.functions.video.get_duration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-udf"></code>            <span class="doc doc-object-name doc-function-name">get_duration</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_duration</span><span class="p">(</span><span class="n">video</span><span class="p">:</span> <span class="n">Video</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Float</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Get video duration in seconds.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code>video</code></b>
              (<code>Video</code>)
          –
          <div class="doc-md-description">
            <p>The video for which to get the duration.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>Optional[Float]</code>
          –
          <div class="doc-md-description">
            <p>The duration in seconds, or None if the duration cannot be determined.</p>
          </div>
        </li>
    </ul>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pixeltable.functions.video.get_metadata" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-udf"></code>            <span class="doc doc-object-name doc-function-name">get_metadata</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_metadata</span><span class="p">(</span><span class="n">video</span><span class="p">:</span> <span class="n">Video</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Gets various metadata associated with a video file and returns it as a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code>video</code></b>
              (<code>Video</code>)
          –
          <div class="doc-md-description">
            <p>The video for which to get metadata.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>Json</code>
          –
          <div class="doc-md-description">
            <p>A <code>dict</code> such as the following:</p>
<pre><code class="language-json">{
    'bit_exact': False,
    'bit_rate': 967260,
    'size': 2234371,
    'metadata': {
        'encoder': 'Lavf60.16.100',
        'major_brand': 'isom',
        'minor_version': '512',
        'compatible_brands': 'isomiso2avc1mp41',
    },
    'streams': [
        {
            'type': 'video',
            'width': 640,
            'height': 360,
            'frames': 462,
            'time_base': 1.0 / 12800,
            'duration': 236544,
            'duration_seconds': 236544.0 / 12800,
            'average_rate': 25.0,
            'base_rate': 25.0,
            'guessed_rate': 25.0,
            'metadata': {
                'language': 'und',
                'handler_name': 'L-SMASH Video Handler',
                'vendor_id': '[0][0][0][0]',
                'encoder': 'Lavc60.31.102 libx264',
            },
            'codec_context': {'name': 'h264', 'codec_tag': 'avc1', 'profile': 'High', 'pix_fmt': 'yuv420p'},
        }
    ],
}
</code></pre>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Extract metadata for files in the <code>video_col</code> column of the table <code>tbl</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">tbl</span><span class="o">.</span><span class="n">video_col</span><span class="o">.</span><span class="n">get_metadata</span><span class="p">())</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pixeltable.functions.video.overlay_text" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-udf"></code>            <span class="doc doc-object-name doc-function-name">overlay_text</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">overlay_text</span><span class="p">(</span>
    <span class="n">video</span><span class="p">:</span> <span class="n">Video</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">font</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">String</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">font_size</span><span class="p">:</span> <span class="n">Int</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">String</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span>
    <span class="n">opacity</span><span class="p">:</span> <span class="n">Float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">horizontal_align</span><span class="p">:</span> <span class="n">String</span> <span class="o">=</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span>
    <span class="n">horizontal_margin</span><span class="p">:</span> <span class="n">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">vertical_align</span><span class="p">:</span> <span class="n">String</span> <span class="o">=</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span>
    <span class="n">vertical_margin</span><span class="p">:</span> <span class="n">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">box</span><span class="p">:</span> <span class="n">Bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">box_color</span><span class="p">:</span> <span class="n">String</span> <span class="o">=</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="n">box_opacity</span><span class="p">:</span> <span class="n">Float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">box_border</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Json</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Video</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Overlay text on a video with customizable positioning and styling.</p>
<p><strong>Requirements:</strong></p>
<ul>
<li><code>ffmpeg</code> needs to be installed and in PATH</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code>video</code></b>
              (<code>Video</code>)
          –
          <div class="doc-md-description">
            <p>Input video to overlay text on.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>text</code></b>
              (<code>String</code>)
          –
          <div class="doc-md-description">
            <p>The text string to overlay on the video.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>font</code></b>
              (<code>Optional[String]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Font family or path to font file. If None, uses the system default.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>font_size</code></b>
              (<code>Int</code>, default:
                  <code>24</code>
)
          –
          <div class="doc-md-description">
            <p>Size of the text in points.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>color</code></b>
              (<code>String</code>, default:
                  <code>&#39;white&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Text color (e.g., <code>'white'</code>, <code>'red'</code>, <code>'#FF0000'</code>).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>opacity</code></b>
              (<code>Float</code>, default:
                  <code>1.0</code>
)
          –
          <div class="doc-md-description">
            <p>Text opacity from 0.0 (transparent) to 1.0 (opaque).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>horizontal_align</code></b>
              (<code>String</code>, default:
                  <code>&#39;center&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Horizontal text alignment (<code>'left'</code>, <code>'center'</code>, <code>'right'</code>).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>horizontal_margin</code></b>
              (<code>Int</code>, default:
                  <code>0</code>
)
          –
          <div class="doc-md-description">
            <p>Horizontal margin in pixels from the alignment edge.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>vertical_align</code></b>
              (<code>String</code>, default:
                  <code>&#39;center&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Vertical text alignment (<code>'top'</code>, <code>'center'</code>, <code>'bottom'</code>).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>vertical_margin</code></b>
              (<code>Int</code>, default:
                  <code>0</code>
)
          –
          <div class="doc-md-description">
            <p>Vertical margin in pixels from the alignment edge.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>box</code></b>
              (<code>Bool</code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to draw a background box behind the text.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>box_color</code></b>
              (<code>String</code>, default:
                  <code>&#39;black&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Background box color as a string.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>box_opacity</code></b>
              (<code>Float</code>, default:
                  <code>1.0</code>
)
          –
          <div class="doc-md-description">
            <p>Background box opacity from 0.0 to 1.0.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>box_border</code></b>
              (<code>Optional[Json]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Padding around text in the box in pixels.</p>
<ul>
<li><code>[10]</code>: 10 pixels on all sides</li>
<li><code>[10, 20]</code>: 10 pixels on top/bottom, 20 on left/right</li>
<li><code>[10, 20, 30]</code>: 10 pixels on top, 20 on left/right, 30 on bottom</li>
<li><code>[10, 20, 30, 40]</code>: 10 pixels on top, 20 on right, 30 on bottom, 40 on left</li>
</ul>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>Video</code>
          –
          <div class="doc-md-description">
            <p>A new video with the text overlay applied.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Add a simple text overlay to videos in a table:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">overlay_text</span><span class="p">(</span><span class="s1">&#39;Sample Text&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>
    <p>Add a YouTube-style caption:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">overlay_text</span><span class="p">(</span>
<span class="gp">... </span>        <span class="s1">&#39;Caption text&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">font_size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">opacity</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">box</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">box_color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">box_opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">box_border</span><span class="o">=</span><span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span>
<span class="gp">... </span>        <span class="n">horizontal_margin</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">vertical_align</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">vertical_margin</span><span class="o">=</span><span class="mi">70</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>
    <p>Add text with a semi-transparent background box:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">overlay_text</span><span class="p">(</span>
<span class="gp">... </span>        <span class="s1">&#39;Important Message&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">font_size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">box</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">box_color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">box_opacity</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">box_border</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pixeltable.functions.video.segment_video" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-udf"></code>            <span class="doc doc-object-name doc-function-name">segment_video</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">segment_video</span><span class="p">(</span>
    <span class="n">video</span><span class="p">:</span> <span class="n">Video</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">segment_times</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Json</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">mode</span><span class="p">:</span> <span class="n">String</span> <span class="o">=</span> <span class="s2">&quot;accurate&quot;</span><span class="p">,</span>
    <span class="n">video_encoder</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">String</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">video_encoder_args</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Json</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Split a video into segments.</p>
<p><strong>Requirements:</strong></p>
<ul>
<li><code>ffmpeg</code> needs to be installed and in PATH</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code>video</code></b>
              (<code>Video</code>)
          –
          <div class="doc-md-description">
            <p>Input video file to segment</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>duration</code></b>
              (<code>Optional[Float]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Duration of each segment (in seconds). For <code>mode='fast'</code>, this is approximate;
for <code>mode='accurate'</code>, segments will have exact durations. Cannot be specified together with
<code>segment_times</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>segment_times</code></b>
              (<code>Optional[Json]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>List of timestamps (in seconds) in video where segments should be split. Note that these are not
segment durations. If all segment times are less than the duration of the video, produces exactly
<code>len(segment_times) + 1</code> segments. Cannot be empty or be specified together with <code>duration</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>mode</code></b>
              (<code>String</code>, default:
                  <code>&#39;accurate&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Segmentation mode:</p>
<ul>
<li><code>'fast'</code>: Quick segmentation using stream copy (splits only at keyframes, approximate durations)</li>
<li><code>'accurate'</code>: Precise segmentation with re-encoding (exact durations, slower)</li>
</ul>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>video_encoder</code></b>
              (<code>Optional[String]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Video encoder to use. If not specified, uses the default encoder for the current platform.
Only available for <code>mode='accurate'</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>video_encoder_args</code></b>
              (<code>Optional[Json]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Additional arguments to pass to the video encoder. Only available for <code>mode='accurate'</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>Json</code>
          –
          <div class="doc-md-description">
            <p>List of file paths for the generated video segments.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="pixeltable.Error">Error</span></code>
            –
          <div class="doc-md-description">
            <p>If the video is missing timing information.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Split a video at 1 minute intervals using fast mode:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">segment_paths</span><span class="o">=</span><span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">segment_video</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;fast&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>
    <p>Split video into exact 10-second segments with default accurate mode, using the libx264 encoder with a CRF of 23
and slow preset (for smaller output files):</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">segment_paths</span><span class="o">=</span><span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">segment_video</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">duration</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">video_encoder</span><span class="o">=</span><span class="s1">&#39;libx264&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">video_encoder_args</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;crf&#39;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span> <span class="s1">&#39;preset&#39;</span><span class="p">:</span> <span class="s1">&#39;slow&#39;</span><span class="p">}</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>
    <p>Split video into two parts at the midpoint:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">get_duration</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">segment_paths</span><span class="o">=</span><span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">segment_video</span><span class="p">(</span><span class="n">segment_times</span><span class="o">=</span><span class="p">[</span><span class="n">duration</span> <span class="o">/</span> <span class="mi">2</span><span class="p">]))</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pixeltable.functions.video.with_audio" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-udf"></code>            <span class="doc doc-object-name doc-function-name">with_audio</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">with_audio</span><span class="p">(</span>
    <span class="n">video</span><span class="p">:</span> <span class="n">Video</span><span class="p">,</span>
    <span class="n">audio</span><span class="p">:</span> <span class="n">Audio</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">video_start_time</span><span class="p">:</span> <span class="n">Float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">video_duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">audio_start_time</span><span class="p">:</span> <span class="n">Float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">audio_duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Video</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Creates a new video that combines the video stream from <code>video</code> and the audio stream from <code>audio</code>.
The <code>start_time</code> and <code>duration</code> parameters can be used to select a specific time range from each input.
If the audio input (or selected time range) is longer than the video, the audio will be truncated.</p>
<p><strong>Requirements:</strong></p>
<ul>
<li><code>ffmpeg</code> needs to be installed and in PATH</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code>video</code></b>
              (<code>Video</code>)
          –
          <div class="doc-md-description">
            <p>Input video.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>audio</code></b>
              (<code>Audio</code>)
          –
          <div class="doc-md-description">
            <p>Input audio.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>video_start_time</code></b>
              (<code>Float</code>, default:
                  <code>0.0</code>
)
          –
          <div class="doc-md-description">
            <p>Start time in the video input (in seconds).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>video_duration</code></b>
              (<code>Optional[Float]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Duration of video segment (in seconds). If None, uses the remainder of the video after
<code>video_start_time</code>. <code>video_duration</code> determines the duration of the output video.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>audio_start_time</code></b>
              (<code>Float</code>, default:
                  <code>0.0</code>
)
          –
          <div class="doc-md-description">
            <p>Start time in the audio input (in seconds).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code>audio_duration</code></b>
              (<code>Optional[Float]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Duration of audio segment (in seconds). If None, uses the remainder of the audio after
<code>audio_start_time</code>. If the audio is longer than the output video, it will be truncated.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>Video</code>
          –
          <div class="doc-md-description">
            <p>A new video file with the audio track added.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Add background music to a video:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">with_audio</span><span class="p">(</span><span class="n">tbl</span><span class="o">.</span><span class="n">music_track</span><span class="p">))</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>
    <p>Add audio starting 5 seconds into both files:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">with_audio</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">tbl</span><span class="o">.</span><span class="n">music_track</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">video_start_time</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">audio_start_time</span><span class="o">=</span><span class="mf">5.0</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>
    <p>Use a 10-second clip from the middle of both files:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">tbl</span><span class="o">.</span><span class="n">video</span><span class="o">.</span><span class="n">with_audio</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">tbl</span><span class="o">.</span><span class="n">music_track</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">video_start_time</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">video_duration</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">audio_start_time</span><span class="o">=</span><span class="mf">15.0</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">audio_duration</span><span class="o">=</span><span class="mf">10.0</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>

    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2022 - 2024 <a href="https://github.com/pixeltable" target="_blank" rel="noopener">Pixeltable, Inc.</a> All rights reserved.

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ebd0bdb7.min.js"></script>
      
    
  </body>
</html>