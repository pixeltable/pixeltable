---
title: "pixeltable.functions.deepseek.chat_completions"
sidebarTitle: "chat_completions"
description: "Creates a model response for the given chat conversation."
icon: "circle-u"
---
## ⚠️ Documentation Issues

<Warning>
- Examples section exists in docstring but was not parsed by docstring_parser
</Warning>

Equivalent to the Deepseek `chat/completions` API endpoint. For additional details, see: https://api-docs.deepseek.com/api/create-chat-completion

Deepseek uses the OpenAI SDK, so you will need to install the `openai` package to use this UDF.

Request throttling: Applies the rate limit set in the config (section `deepseek`, key `rate_limit`). If no rate limit is configured, uses a default of 600 RPM.

**Requirements:**

- `pip install openai`


## Signature

```python
pixeltable.functions.deepseek.chat_completions(messages: Json, model: String, model_kwargs: Optional[Json], tools: Optional[Json], tool_choice: Optional[Json]) -> Json
```

## Args

<Note>
Parameter optional/required status may not be accurate if docstring doesn't specify defaults.
</Note>

<ParamField path="messages" type="Json" required>
  A list of messages to use for chat completion, as described in the Deepseek API documentation.


</ParamField>

<ParamField path="model" type="String" required>
  The model to use for chat completion.


</ParamField>

<ParamField path="model_kwargs" type="Optional[Json]" required>
  Additional keyword args for the Deepseek `chat/completions` API. For details on the available parameters, see: https://api-docs.deepseek.com/api/create-chat-completion


</ParamField>

<ParamField path="tools" type="Optional[Json]" required>
  An optional list of Pixeltable tools to use for the request.


</ParamField>

<ParamField path="tool_choice" type="Optional[Json]" required>
  An optional tool choice configuration.


</ParamField>

## Returns

<ResponseField name="return" type="any" required>
  A dictionary containing the response and other metadata.


</ResponseField>

## Examples

```python
Add a computed column that applies the model `deepseek-chat` to an existing Pixeltable column `tbl.prompt`
of the table `tbl`:

>>> messages = [
        {'role': 'system', 'content': 'You are a helpful assistant.'},
        {'role': 'user', 'content': tbl.prompt}
    ]
    tbl.add_computed_column(response=chat_completions(messages, model='deepseek-chat'))
```

