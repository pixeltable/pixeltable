---
title: "pixeltable.functions.anthropic.messages"
sidebarTitle: "messages"
description: "Create a Message."
icon: "circle-u"
---
## ⚠️ Documentation Issues

<Warning>
- Examples section exists in docstring but was not parsed by docstring_parser
</Warning>

Equivalent to the Anthropic `messages` API endpoint. For additional details, see: https://docs.anthropic.com/en/api/messages

Request throttling: Uses the rate limit-related headers returned by the API to throttle requests adaptively, based on available request and token capacity. No configuration is necessary.

**Requirements:**

- `pip install anthropic`


## Signature

```python
pixeltable.functions.anthropic.messages(*args: 'Any', **kwargs: 'Any') -> "'exprs.FunctionCall'"
```

## Args

<Note>
Parameter optional/required status may not be accurate if docstring doesn't specify defaults.
</Note>

<ParamField path="messages" type="string" required>
  Input messages.


</ParamField>

<ParamField path="model" type="string" required>
  The model that will complete your prompt.


</ParamField>

<ParamField path="model_kwargs" type="string" required>
  Additional keyword args for the Anthropic `messages` API. For details on the available parameters, see: https://docs.anthropic.com/en/api/messages


</ParamField>

<ParamField path="tools" type="string" required>
  An optional list of Pixeltable tools to use for the request.


</ParamField>

<ParamField path="tool_choice" type="string" required>
  An optional tool choice configuration.


</ParamField>

## Returns

<ResponseField name="return" type="any" required>
  A dictionary containing the response and other metadata.


</ResponseField>

## Examples

```python
Add a computed column that applies the model `claude-3-5-sonnet-20241022`
to an existing Pixeltable column `tbl.prompt` of the table `tbl`:

>>> msgs = [{'role': 'user', 'content': tbl.prompt}]
... tbl.add_computed_column(response=messages(msgs, model='claude-3-5-sonnet-20241022'))
```

