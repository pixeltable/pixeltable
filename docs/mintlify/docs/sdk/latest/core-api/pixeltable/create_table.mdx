---
title: "pixeltable.create_table"
sidebarTitle: "create_table"
description: "Create a new base table. Exactly one of `schema` or `source` must be provided."
icon: "circle-f"
---
## ⚠️ Documentation Issues

<Warning>
- Examples section exists in docstring but was not parsed by docstring_parser
</Warning>

If a `schema` is provided, then an empty table will be created with the specified schema.

If a `source` is provided, then Pixeltable will attempt to infer a data source format and table schema from the contents of the specified data, and the data will be imported from the specified source into the new table. The source format and/or schema can be specified directly via the `source_format` and `schema_overrides` parameters.


## Signature

```python
pixeltable.create_table(
    path: 'str',
    schema: 'Optional[dict[str, Any]]' = None,
    *,
    source: 'Optional[TableDataSource]' = None,
    source_format: "Optional[Literal['csv', 'excel', 'parquet', 'json']]" = None,
    schema_overrides: 'Optional[dict[str, Any]]' = None,
    on_error: "Literal['abort', 'ignore']" = 'abort',
    primary_key: 'str | list[str] | None' = None,
    num_retained_versions: 'int' = 10,
    comment: 'str' = '',
    media_validation: "Literal['on_read', 'on_write']" = 'on_write',
    if_exists: "Literal['error', 'ignore', 'replace', 'replace_force']" = 'error',
    extra_args: 'Optional[dict[str, Any]]' = None
) -> 'catalog.Table'
```

<a href="https://github.com/pixeltable/pixeltable/blob/main/pixeltable/globals.py#L46" target="_self">View source on GitHub</a>

## Args

<Note>
Parameter optional/required status may not be accurate if docstring doesn't specify defaults.
</Note>

<ParamField path="path" type="str" required>
  Pixeltable path (qualified name) of the table, such as `'my_table'` or `'my_dir.my_subdir.my_table'`.


</ParamField>

<ParamField path="schema" type="Optional[dict[str, Any]]" >
  Schema for the new table, mapping column names to Pixeltable types.


</ParamField>

<ParamField path="source" type="Optional[TableDataSource]" >
  A data source (file, URL, DataFrame, or list of rows) to import from.


</ParamField>

<ParamField path="source_format" type="Optional[Literal['csv', 'excel', 'parquet', 'json']]" >
  Must be used in conjunction with a `source`. If specified, then the given format will be used to read the source data. (Otherwise, Pixeltable will attempt to infer the format from the source data.)


</ParamField>

<ParamField path="schema_overrides" type="Optional[dict[str, Any]]" >
  Must be used in conjunction with a `source`. If specified, then columns in `schema_overrides` will be given the specified types. (Pixeltable will attempt to infer the types of any columns not specified.)


</ParamField>

<ParamField path="on_error" type="Literal['abort', 'ignore']" >
  Determines the behavior if an error occurs while evaluating a computed column or detecting an invalid media file (such as a corrupt image) for one of the inserted rows.

- If `on_error='abort'`, then an exception will be raised and the rows will not be inserted.
- If `on_error='ignore'`, then execution will continue and the rows will be inserted. Any cells with errors will have a `None` value for that cell, with information about the error stored in the corresponding `tbl.col_name.errortype` and `tbl.col_name.errormsg` fields.

</ParamField>

<ParamField path="primary_key" type="str | list[str] | None" >
  An optional column name or list of column names to use as the primary key(s) of the table.


</ParamField>

<ParamField path="num_retained_versions" type="int" >
  Number of versions of the table to retain.


</ParamField>

<ParamField path="comment" type="str" >
  An optional comment; its meaning is user-defined.


</ParamField>

<ParamField path="media_validation" type="Literal['on_read', 'on_write']" >
  Media validation policy for the table.

- `'on_read'`: validate media files at query time
- `'on_write'`: validate media files during insert/update operations

</ParamField>

<ParamField path="if_exists" type="Literal['error', 'ignore', 'replace', 'replace_force']" >
  Determines the behavior if a table already exists at the specified path location.

- `'error'`: raise an error
- `'ignore'`: do nothing and return the existing table handle
- `'replace'`: if the existing table has no views or snapshots, drop and replace it with a new one; raise an error if the existing table has views or snapshots
- `'replace_force'`: drop the existing table and all its views and snapshots, and create a new one

</ParamField>

<ParamField path="extra_args" type="Optional[dict[str, Any]]" >
  Must be used in conjunction with a `source`. If specified, then additional arguments will be passed along to the source data provider.


</ParamField>

## Returns

<ResponseField name="return" type="any" required>
  A handle to the newly created table, or to an already existing table at the path when `if_exists='ignore'`. Please note the schema of the existing table may not match the schema provided in the call.


</ResponseField>

## Raises

### `Error`

if

- the path is invalid, or
- the path already exists and `if_exists='error'`, or
- the path already exists and is not a table, or
- an error occurs while attempting to create the table, or
- an error occurs while attempting to import data from the source.


## Examples

```python
Create a table with an int and a string column:

>>> tbl = pxt.create_table('my_table', schema={'col1': pxt.Int, 'col2': pxt.String})

Create a table from a select statement over an existing table `orig_table` (this will create a new table
containing the exact contents of the query):

>>> tbl1 = pxt.get_table('orig_table')
... tbl2 = pxt.create_table('new_table', tbl1.where(tbl1.col1 < 10).select(tbl1.col2))

Create a table if it does not already exist, otherwise get the existing table:

>>> tbl = pxt.create_table('my_table', schema={'col1': pxt.Int, 'col2': pxt.String}, if_exists='ignore')

Create a table with an int and a float column, and replace any existing table:

>>> tbl = pxt.create_table('my_table', schema={'col1': pxt.Int, 'col2': pxt.Float}, if_exists='replace')

Create a table from a CSV file:

>>> tbl = pxt.create_table('my_table', source='data.csv')
```

